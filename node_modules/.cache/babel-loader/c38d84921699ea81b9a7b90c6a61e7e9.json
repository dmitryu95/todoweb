{"ast":null,"code":"import { Network } from \"../components/Network\";\nimport { action, makeObservable, observable } from 'mobx';\nimport { store } from \"./AuthStore\";\n\nclass NoteStore {\n  constructor() {\n    this.title = '';\n    this.id = '';\n    this.listOfItems = [\"TEST\"];\n    this.statusItem = false;\n    makeObservable(this, {\n      title: observable,\n      id: observable,\n      statusItem: observable,\n      listOfItems: observable,\n      addNewNote: action.bound,\n      setTitle: action.bound,\n      setListOfItems: action.bound,\n      changeStatus: action.bound,\n      editItem: action.bound,\n      delete: action.bound\n    });\n  }\n\n  setListOfItems() {\n    Network('tasks?access_token=', this.id, 'GET').then(result => {\n      this.listOfItems = result;\n      console.log(\"проверка\", this.listOfItems.map(item => item.title));\n    });\n  }\n\n  setTitle(text) {\n    this.title = text.target.value;\n  }\n\n  addNewNote() {\n    console.log(\"содержание в поле title\", this.title);\n\n    if (!this.title || this.title == '' || this.title == ' ') {\n      // this.setListOfItems()\n      alert(\"Поле с заметкой пустое\");\n    } else {\n      Network('tasks?access_token=', store.token, 'POST', {\n        title: this.title\n      });\n      setTimeout(this.setListOfItems, 200);\n      this.title = '';\n    }\n  }\n\n  changeStatus(item) {\n    if (item.done == true) {\n      Network('tasks?access_token=', store.token, 'PUT', {\n        title: item.title,\n        id: item.id,\n        done: false\n      });\n    } else {\n      Network('tasks?access_token=', store.token, 'PUT', {\n        title: item.title,\n        id: item.id,\n        done: true\n      });\n    }\n\n    setTimeout(this.setListOfItems, 200);\n    this.setListOfItems();\n  }\n\n  editItem(item) {\n    this.title = prompt(\"Edit Note\", item.title);\n    Network('tasks?access_token=', store.token, 'PUT', {\n      id: item.id,\n      done: item.done,\n      title: this.title\n    });\n    setTimeout(this.setListOfItems, 200);\n    this.setListOfItems();\n    this.title = '';\n  }\n\n  delete(id) {\n    Network(`tasks/${id}?access_token=`, store.token, 'DELETE');\n    this.setListOfItems();\n  }\n\n}\n\nexport const StoreTodo = new NoteStore();","map":{"version":3,"sources":["/Users/dmitriyu/Documents/todoweb/src/source/stores/NoteStore.js"],"names":["Network","action","makeObservable","observable","store","NoteStore","constructor","title","id","listOfItems","statusItem","addNewNote","bound","setTitle","setListOfItems","changeStatus","editItem","delete","then","result","console","log","map","item","text","target","value","alert","token","setTimeout","done","prompt","StoreTodo"],"mappings":"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","sourcesContent":["import { Network } from \"../components/Network\";\nimport {action, makeObservable, observable} from 'mobx';\nimport { store } from \"./AuthStore\";\n\nclass NoteStore {\n    constructor() {\n        this.title = '';\n        this.id = '';\n        this.listOfItems = [\"TEST\"];\n        this.statusItem = false;\n        \n            makeObservable(this, {\n                title: observable,\n                id: observable,\n                statusItem: observable,\n                listOfItems: observable,\n                addNewNote: action.bound,\n                setTitle: action.bound, \n                setListOfItems: action.bound,\n                changeStatus: action.bound,\n                editItem: action.bound,\n                delete: action.bound,\n            })\n    }\n \n    setListOfItems() {\n        Network('tasks?access_token=', this.id, 'GET')\n        .then(result => {\n            this.listOfItems = result\n            console.log(\"проверка\", this.listOfItems.map(item => item.title));\n          })\n    }\n\n    setTitle(text) {\n        this.title = text.target.value; \n    }\n\n    addNewNote() {\n        console.log(\"содержание в поле title\", this.title);\n    \n        if(!this.title || this.title == '' || this.title == ' ') {\n            // this.setListOfItems()\n            alert(\"Поле с заметкой пустое\")\n        } else {\n            Network('tasks?access_token=', store.token, 'POST', {title: this.title});\n            setTimeout(this.setListOfItems, 200);\n            this.title = ''\n        }  \n    }\n\n    changeStatus(item) {\n        if(item.done == true) {\n            Network('tasks?access_token=', store.token, 'PUT', {\n                title: item.title,\n                id: item.id,\n                done: false\n            })\n        } else {\n            Network('tasks?access_token=', store.token, 'PUT', {\n                title: item.title,\n                id: item.id,\n                done: true\n            })\n        }\n        setTimeout(this.setListOfItems, 200);\n        this.setListOfItems();\n    }\n\n    editItem(item) {\n        this.title = prompt(\"Edit Note\", item.title)\n        Network('tasks?access_token=', store.token, 'PUT', {\n            id: item.id,\n            done: item.done,\n            title: this.title})\n        setTimeout(this.setListOfItems, 200);\n        this.setListOfItems();\n        this.title = ''\n    }\n\n    delete(id) {\n        Network(`tasks/${id}?access_token=`, store.token, 'DELETE');\n        this.setListOfItems()\n    }\n}\n\nexport const StoreTodo = new NoteStore();"]},"metadata":{},"sourceType":"module"}